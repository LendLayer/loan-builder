<!-- <div class="jumbotron"> -->
<!--   <h1>Loan Plan Builder</h1> -->
<!-- </div> -->
<div class="row marketing">
  <h1>Interest Rates</h1>
  <h2>Student Defaults</h2>
  <nvd3-stacked-area-chart
    data="studentChartData"
    id="student-default-chart"
    showXAxis="true"
    showYAxis="true"
    width="600"
    height="250"
    ydomain="[0,1]"
    objectequality="true">
  </nvd3-stacked-area-chart>
  <p><b>Expected student default rate: {{expectedStudentDefault | number : 2}}</b></p>
  <p>Click to edit the probability boxes below (apart from the '0%' probability):</p>
  <student-default-rates></student-default-rates>

  <h2>Defaults when {{schoolName}} Defaults</h2>
  <nvd3-stacked-area-chart
    data="schoolDefaultsChartData"
    id="school-defaults-chart"
    showXAxis="true"
    showYAxis="true"
    width="600"
    transitionduration="0"
    height="250"
    ydomain="[0,1]"
    objectequality="true">
  </nvd3-stacked-area-chart>

  <nvd3-discrete-bar-chart
    data="schoolChartData"
    id="school-default-probability-chart"
    showValues="true"
    yaxisdomain="[0,1]"
    transitionduration="0"
    objectequality="true"
    width="150"
    height="250"
    >
  </nvd3-discrete-bar-chart>

  <div class="sliders">
    <label>School default probability {{schoolDefaultProbability * 100 | number : 0}}%</label>
    <slider floor="0" ceiling="1" step="0.01" precision="2" ng-model="schoolDefaultProbability"></slider>
  </div>

  <h2>Defaults when {{schoolName}} Doesn't Default</h2>

  <nvd3-stacked-area-chart
    data="schoolPaysChartData"
    id="school-pays-chart"
    showXAxis="true"
    showYAxis="true"
    transitionduration="0"
    width="600"
    height="250"
    xdomain="[0,100]"
    ydomain="[0,1]"
    objectequality="true">
  </nvd3-stacked-area-chart>

  <div class="sliders">
    <label>School covers first {{schoolCoversFirst * 100 | number : 0}}% of defaults</label>
    <slider floor="0" ceiling="1" step="0.01" precision="2" ng-model="schoolCoversFirst"></slider>
    <label>School shares {{schoolSubsidy * 100 | number : 0}}% of remaining defaults</label>
    <slider floor="0" ceiling="1" step="0.01" precision="2" ng-model="schoolSubsidy"></slider>
  </div>

  <interest-table></interest-table>

  <div>{{loan.totalInterest() | currency : $}}</div>
</div>

<div class="row marketing" ng-controller="RepaymentsCtrl">
  <h1>Repayment Schedule</h1>
  <h2>Monthly Loan Balance</h2>
  <nvd3-multi-bar-chart
    data="balancesChartData"
    id="balances-chart"
    tooltips="false"
    showvalues="true"
    showxaxis="true"
    showyaxis="true"
    transitionduration="0"
    delay="0"
    width="750"
    height="250"
    objectequality="true"
    >
  </nvd3-multi-bar-chart>

  <h2>Monthly Principal and Interest Payments</h2>
  <nvd3-multi-bar-chart
    data="paymentsChartData"
    id="payments-chart"
    tooltips="false"
    showvalues="true"
    showxaxis="true"
    showyaxis="true"
    stacked="true"
    showlegend="true"
    transitionduration="0"
    delay="0"
    width="750"
    height="250"
    objectequality="true"
    >
  </nvd3-multi-bar-chart>

  <div class="sliders">
    <label>Student borrows {{loanAmount | currency : $}}</label>
    <slider floor="1000" ceiling="10000" step="100" precision="0" ng-model="loanAmount"></slider>
    <label>{{gracePayments}} grace payments</label>
    <slider floor="0" ceiling="6" step="1" precision="0" ng-model="gracePayments"></slider>
    <label>of {{gracePaymentAmount | currency : $}}</label>
    <slider floor="0" ceiling="100" step="1" precision="0" ng-model="gracePaymentAmount"></slider>
    <label>followed by {{payments}} payments of {{loan.installment | currency : $}}</label>
    <slider floor="1" ceiling="24" step="1" precision="0" ng-model="payments"></slider>
  </div>

  <p>The student will pay a total of {{loan.totalInterest | currency : $}} in interest over the life of the loan.</p>
</div>

<div class="footer">
</div>
